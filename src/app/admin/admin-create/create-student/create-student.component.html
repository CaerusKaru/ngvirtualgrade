<form novalidate (ngSubmit)="onSubmit()" [formGroup]="createForm"
      class="md-padding" fxLayout="column" fxFill>
  <div formArrayName="steps" fxFlex fxLayout="column">
    <mat-toolbar color="primary" class="mat-elevation-z2">
      <span>Assignment</span>
      <button mat-icon-button fxFlexOffset="10px" type="button" matTooltip="Edit Assignment"><mat-icon>edit</mat-icon></button>
      <button mat-icon-button fxFlexOffset="10px" matTooltip="Save"><mat-icon>save</mat-icon></button>
    </mat-toolbar>
    <span fxFlex="16px"></span>

    <div fxLayout="column" class="mat-elevation-z4 steps-container" fxLayoutGap="10px">

      <mat-tab-group [(selectedIndex)]="activeTabIndex" class="steps" dynamicHeight>
        <mat-tab *ngFor="let step of steps.controls; let i = index" [label]="step.get('name').value">
          <vg-create-step [step]="step"></vg-create-step>
        </mat-tab>
      </mat-tab-group>

      <span style="border-bottom: 1px solid rgba(0,0,0,0.12)"></span>

      <div fxLayout="row" class="md-padding">
        <button mat-button
                type="button"
                (click)="addStep()">
          ADD STEP
        </button>
        <span fxFlex></span>
        <button mat-button
                (click)="removeStep()"
                color="warn"
                type="button"
                [disabled]="steps.length === 1">
          REMOVE STEP
        </button>
      </div>
    </div>

  </div>
</form>
